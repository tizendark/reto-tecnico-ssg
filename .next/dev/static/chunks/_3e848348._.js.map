{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Efrain/Documents/reto-tecnico-ssg/lib/supabaseClient.ts"],"sourcesContent":["// lib/supabaseClient.ts\r\nimport { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\r\n"],"names":[],"mappings":";;;;AAGoB;AAHpB,wBAAwB;AACxB;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Efrain/Documents/reto-tecnico-ssg/app/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { supabase } from '@/lib/supabaseClient'\r\nimport { z } from 'zod'\r\nimport { Send, FileText, AlertCircle, CheckCircle2 } from 'lucide-react'\r\n\r\n// Esquema de validación (Igual que tenías)\r\nconst requestSchema = z.object({\r\n    title: z.string().min(5, \"El título debe tener al menos 5 caracteres\"),\r\n    description: z.string().min(10, \"Describe la solicitud con más detalle\"),\r\n    area: z.enum([\"Marketing\", \"IT\", \"RRHH\", \"Ventas\", \"Operaciones\"]),\r\n    priority: z.enum([\"Baja\", \"Media\", \"Alta\"]),\r\n})\r\n\r\nexport default function PublicRequestForm() {\r\n    const [loading, setLoading] = useState(false)\r\n    const [message, setMessage] = useState('')\r\n\r\n    async function handleSubmit(e: React.FormEvent<HTMLFormElement>) {\r\n        e.preventDefault()\r\n        setLoading(true)\r\n        setMessage('')\r\n\r\n        // Captura segura de la referencia al formulario\r\n        const form = e.currentTarget\r\n        const formData = new FormData(form)\r\n\r\n        const rawData = {\r\n            title: formData.get('title'),\r\n            description: formData.get('description'),\r\n            area: formData.get('area'),\r\n            priority: formData.get('priority'),\r\n        }\r\n\r\n        const result = requestSchema.safeParse(rawData)\r\n\r\n        if (!result.success) {\r\n            setMessage(`Error: ${result.error.errors[0].message}`)\r\n            setLoading(false)\r\n            return\r\n        }\r\n\r\n        const { error } = await supabase\r\n            .from('requests')\r\n            .insert([{ ...result.data, status: 'Pendiente' }])\r\n\r\n        if (error) {\r\n            setMessage('Error al guardar la solicitud.')\r\n        } else {\r\n            setMessage('¡Solicitud enviada con éxito!')\r\n            form.reset() // Uso seguro de la referencia capturada\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6\">\r\n            {/* Encabezado Visual */}\r\n            <div className=\"text-center mb-8\">\r\n                <h1 className=\"text-4xl font-extrabold text-slate-800 tracking-tight\">Sabbag <span className=\"text-blue-600\">Design</span></h1>\r\n                <p className=\"text-slate-500 mt-2\">Portal de Gestión de Solicitudes Corporativas</p>\r\n            </div>\r\n\r\n            <div className=\"max-w-lg w-full bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-100\">\r\n                <div className=\"bg-blue-600 p-4 text-white flex items-center gap-2\">\r\n                    <FileText className=\"w-5 h-5\" />\r\n                    <h2 className=\"font-semibold text-lg\">Nueva Solicitud</h2>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className=\"p-8 space-y-6\">\r\n                    {/* Título */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Título del Proyecto</label>\r\n                        <input name=\"title\" required className=\"w-full px-4 py-2 rounded-lg border border-slate-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none\" placeholder=\"Ej: Banner campaña Navidad\" />\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        {/* Área */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Área</label>\r\n                            <select name=\"area\" className=\"w-full px-4 py-2 rounded-lg border border-slate-300 focus:ring-2 focus:ring-blue-500 outline-none bg-white\">\r\n                                <option value=\"Marketing\">Marketing</option>\r\n                                <option value=\"IT\">IT</option>\r\n                                <option value=\"RRHH\">RRHH</option>\r\n                                <option value=\"Ventas\">Ventas</option>\r\n                                <option value=\"Operaciones\">Operaciones</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        {/* Prioridad */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Prioridad</label>\r\n                            <select name=\"priority\" className=\"w-full px-4 py-2 rounded-lg border border-slate-300 focus:ring-2 focus:ring-blue-500 outline-none bg-white\">\r\n                                <option value=\"Media\">Media</option>\r\n                                <option value=\"Baja\">Baja</option>\r\n                                <option value=\"Alta\">Alta</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Descripción */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Detalles y Requisitos</label>\r\n                        <textarea name=\"description\" required rows={4} className=\"w-full px-4 py-2 rounded-lg border border-slate-300 focus:ring-2 focus:ring-blue-500 transition-all outline-none resize-none\" placeholder=\"Describe colores, formatos, textos...\"></textarea>\r\n                    </div>\r\n\r\n                    {/* Botón con estado de carga */}\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className={`w-full flex items-center justify-center gap-2 py-3 px-4 rounded-xl font-bold text-white transition-all transform active:scale-95 ${loading ? 'bg-slate-400' : 'bg-blue-600 hover:bg-blue-700 shadow-md hover:shadow-lg'}`}\r\n                    >\r\n                        {loading ? 'Enviando...' : <><Send className=\"w-4 h-4\" /> Enviar Solicitud</>}\r\n                    </button>\r\n\r\n                    {/* Feedback Messages */}\r\n                    {message && (\r\n                        <div className={`p-4 rounded-lg flex items-center gap-3 text-sm ${message.includes('Error') ? 'bg-red-50 text-red-700 border border-red-100' : 'bg-green-50 text-green-700 border border-green-100'}`}>\r\n                            {message.includes('Error') ? <AlertCircle className=\"w-5 h-5\" /> : <CheckCircle2 className=\"w-5 h-5\" />}\r\n                            {message}\r\n                        </div>\r\n                    )}\r\n                </form>\r\n            </div>\r\n\r\n            <p className=\"mt-8 text-xs text-slate-400\">© 2026 Sistema de Gestión de Diseño Interno</p>\r\n        </main>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}